"use strict";(self["webpackChunkfurniture_project"]=self["webpackChunkfurniture_project"]||[]).push([[270],{696:function(t,e,a){a.d(e,{A:function(){return g}});var i=a(6768),s=a(4232),n=a(5130);const r={"aria-label":"Page navigation example"},o={class:"pagination justify-content-center"},c=["onClick"];function l(t,e,a,l,u,d){return(0,i.uX)(),(0,i.CE)("nav",r,[(0,i.Lk)("ul",o,[(0,i.Lk)("li",{class:(0,s.C4)(["page-item",{disabled:!1===a.pages.has_pre}])},[(0,i.Lk)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,n.D$)((t=>d.updatePage(a.pages.current_page-1)),["prevent"]))},e[2]||(e[2]=[(0,i.Lk)("span",{"aria-hidden":"true"},"上一頁",-1)]))],2),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.pages.total_pages,(t=>((0,i.uX)(),(0,i.CE)("li",{class:(0,s.C4)(["page-item",{active:t===a.pages.current_page}]),key:t},[(0,i.Lk)("a",{class:"page-link",href:"#",onClick:(0,n.D$)((e=>d.updatePage(t)),["prevent"])},(0,s.v_)(t),9,c)],2)))),128)),(0,i.Lk)("li",{class:(0,s.C4)(["page-item",{disabled:!1===a.pages.has_next}])},[(0,i.Lk)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,n.D$)((t=>d.updatePage(a.pages.current_page+1)),["prevent"]))},e[3]||(e[3]=[(0,i.Lk)("span",{"aria-hidden":"true"},"下一頁",-1)]))],2)])])}var u={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},d=a(1241);const p=(0,d.A)(u,[["render",l]]);var g=p},9270:function(t,e,a){a.r(e),a.d(e,{default:function(){return E}});var i=a(6768),s=a(4232);const n={class:"container mt-5"},r={class:"row g-3"},o={class:"col-12 col-md-2"},c={class:"text-center d-flex flex-md-column justify-content-center"},l=["onClick"],u={class:"col-12 col-md-10"},d={class:"row row-cols-2 row-cols-lg-3 g-3"},p={class:"card border-0 shadow-sm product-card h-100"},g={class:"overflow-hidden position-relative"},h=["src","alt"],m={key:0,class:"position-absolute top-0 start-0 badge bg-danger text-white fs-5"},v={class:"card-body d-flex flex-column justify-content-between text-dark"},k={class:"fs-5 fw-bold card-title text-truncate text-custom"},f={class:"text-end mt-auto"},L={key:0,class:"text-muted text-decoration-line-through mb-0"},b={class:"fs-5 fw-bold text-danger mb-0"},C={class:"my-5"};function _(t,e,a,_,P,x){const y=(0,i.g2)("LoadingOverlay"),w=(0,i.g2)("router-link"),E=(0,i.g2)("PaginationComponent");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(y,{active:P.isLoading},null,8,["active"]),e[2]||(e[2]=(0,i.Fv)('<div class="mt-6"><div class="banner-img d-flex flex-column justify-content-center align-items-center"><div class="text-center text-white text-shadow"><h2 class="fw-bold">質感選物．為你的生活添溫度</h2><p class="lead">嚴選居家好物，陪你共度每個美好時光</p></div></div></div>',1)),(0,i.Lk)("div",n,[(0,i.Lk)("div",r,[(0,i.Lk)("div",o,[(0,i.Lk)("div",c,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(P.categoryList,(t=>((0,i.uX)(),(0,i.CE)("button",{key:t.value,class:(0,s.C4)(["btn me-1 me-md-0 mb-md-1 py-md-2 text-nowrap category-btn",{active:t.value===P.currentCategory}]),type:"button",onClick:e=>x.filterProducts(t.value)},(0,s.v_)(t.value),11,l)))),128))])]),(0,i.Lk)("div",u,[(0,i.Lk)("div",d,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(P.tempProduct,(t=>((0,i.uX)(),(0,i.CE)("div",{class:"col",key:t.id},[(0,i.bF)(w,{to:`/productList/${t.id}`,class:"text-decoration-none"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",p,[(0,i.Lk)("div",g,[(0,i.Lk)("img",{src:t.imageUrl,alt:t.title,class:"card-img-top product-img"},null,8,h),t.origin_price!==t.price?((0,i.uX)(),(0,i.CE)("span",m,"特價中")):(0,i.Q3)("",!0)]),(0,i.Lk)("div",v,[(0,i.Lk)("h2",k,(0,s.v_)(t.title),1),e[1]||(e[1]=(0,i.Lk)("div",{class:"mb-2"},null,-1)),(0,i.Lk)("div",f,[t.origin_price!==t.price?((0,i.uX)(),(0,i.CE)("p",L," NT$ "+(0,s.v_)(t.origin_price),1)):(0,i.Q3)("",!0),(0,i.Lk)("p",b,"NT$ "+(0,s.v_)(t.price),1)])])])])),_:2},1032,["to"])])))),128))]),(0,i.Lk)("div",C,[(0,i.bF)(E,{pages:P.pagination,onEmitPages:e[0]||(e[0]=t=>x.filterProducts(P.currentCategory,t))},null,8,["pages"])])])])])],64)}a(4114),a(8111),a(2489);var P=a(696),x={data(){return{products:[],tempProduct:{},currentCategory:"全部",pagination:{},isLoading:!1,categoryList:[{value:"全部"},{value:"沙發"},{value:"椅子"},{value:"餐桌"},{value:"床"}]}},components:{PaginationComponent:P.A},inject:["emitter"],methods:{getProduct(t=1){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/wei8891-api/products/all";this.$http.get(e).then((e=>{e.data.success&&(this.isLoading=!1,this.products=e.data.products,this.tempProduct=this.products,this.pagination=e.data.pagination,this.setPagination(t))})).catch((t=>{this.isLoading=!1,this.emitter.emit("push-message",{style:"danger",title:t.response.data.message})}))},filterProducts(t,e=1){this.isLoading=!0,setTimeout((()=>{this.currentCategory=t,"全部"===t?(this.tempProduct=this.products,this.setPagination(e),this.isLoading=!1):(this.tempProduct=this.products.filter((e=>e.category===t)),this.setPagination(e),this.isLoading=!1)}),1e3)},getProductId(t){this.$router.push(`/user/product/${t}`)},setPagination(t){const e=6;this.pagination={total_pages:Math.ceil(this.tempProduct.length/e),current_page:t,has_pre:!1,has_next:!1,category:null},this.pagination.has_pre=this.pagination.current_page>1,this.pagination.has_next=this.pagination.current_page<this.pagination.total_pages;const a=this.pagination.current_page*e-e,i=this.pagination.current_page*e;this.tempProduct=this.tempProduct.slice(a,i)}},created(){this.getProduct()}},y=a(1241);const w=(0,y.A)(x,[["render",_]]);var E=w}}]);
//# sourceMappingURL=270.d533079c.js.map