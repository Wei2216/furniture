{"version":3,"file":"js/777.75399166.js","mappings":"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","sources":["webpack://furniture-project/./src/views/frontend/ProductDetail.vue","webpack://furniture-project/./src/views/frontend/ProductDetail.vue?ab4e","webpack://furniture-project/./src/methods/saveFave.js"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\"></LoadingOverlay>\n  <div class=\"container mt-5\">\n  <div class=\"row g-4 align-items-stretch\">\n    <!-- 左側商品圖片 -->\n    <div class=\"col-12 col-md-6 d-flex justify-content-center\n     align-items-center\">\n      <img\n        class=\"img-fluid rounded-3\"\n        :src=\"product.imageUrl\"\n        :alt=\"product.title\"\n        style=\"max-height: 480px; object-fit: contain;\"\n      />\n    </div>\n\n    <!-- 右側商品資訊與操作 -->\n    <div class=\"col-12 col-md-6 d-flex flex-column gap-4 p-1\">\n      <!-- 商品標題與描述 -->\n        <div class=\"flex-grow-1 d-flex flex-column gap-4\">\n      <div>\n        <h2 class=\"fs-3 fw-bold\n        border-start-custom\n        border-4 border-secondary\n        ps-3 text-custom mb-3 mt-auto\">\n          {{ product.title }}\n        </h2>\n        <p class=\"text-custom fs-5 lh-base\">\n          {{ product.description }}\n        </p>\n      </div>\n\n      <!-- 價格區塊 -->\n      <div>\n        <p\n          v-if=\"product.origin_price !== product.price\"\n          class=\"text-muted text-decoration-line-through mb-1 fs-5\">\n          NT$ {{ $filters.currency(product.origin_price) }}\n        </p>\n        <p class=\"fs-3 fw-semibold text-custom mb-0\">\n          NT$ {{ $filters.currency(product.price) }}\n          <span\n            v-if=\"product.origin_price !== product.price\"\n            class=\"badge bg-danger ms-2 fs-6 align-middle\">\n            特價\n          </span>\n        </p>\n      </div>\n\n      <!-- 數量選擇 -->\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <span class=\"form-label fw-bolder text-custom me-2 mb-0\">選擇數量</span>\n        <select\n          id=\"qtySelect\"\n          class=\"form-select form-select-sm\"\n          v-model=\"qty\"\n          aria-label=\"選擇數量\"\n          style=\"width: 100px;\">\n          <option :value=\"n\" v-for=\"n in 10\" :key=\"n\">{{ n }}</option>\n       </select>\n      </div>\n    </div>\n\n      <!-- 操作按鈕區塊 -->\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <button\n          type=\"button\"\n          @click.prevent=\"addFave(product)\"\n          :class=\"[\n            'btn btn-outline-custom',\n            faveList.some(i => i === product.id) ? 'active' : '',\n            'btn-sm'\n          ]\"\n        >\n          <i class=\"bi bi-suit-heart-fill me-1\"></i> 收藏\n        </button>\n        <button\n          type=\"button\"\n          @click=\"addCart(product.id, qty)\"\n          class=\"btn btn-custom btn-sm\"\n        >\n          <i class=\"bi bi-cart4 me-1\"></i> 加入購物車\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n  <div class=\"container mt-5\">\n    <div class=\"row row-cols-1 g-2 text-custom\">\n      <div class=\"col\">\n        <hr />\n      </div>\n      <div class=\"col\">\n        <h2 class=\"fs-5 fw-bold\"><i class=\"bi bi-house-fill\"></i> 購物流程與注意事項</h2>\n      </div>\n      <div class=\"col\">\n        <p class=\"mb-2 fw-bold\">【配送服務】</p>\n        <ul>\n          <li>配送範圍限於台灣本島，確保家具完好送達您的家中。</li>\n          <li>配送時間依地區不同，一般需3~7個工作天，實際到貨時間以物流狀況為準。</li>\n          <li>遇節慶或特殊期間，配送時間可能會有所延遲，敬請見諒，我們會盡力通知並協助您安排。</li>\n        </ul>\n      </div>\n      <div class=\"col\">\n        <p class=\"mb-2 fw-bold\">【付款方式】</p>\n        <ul>\n          <li>目前提供貨到付款（現金）及線上刷卡兩種付款方式，讓您購物更安心便利。</li>\n          <li>所有家具商品均享免運費優惠，無論訂購金額大小，讓您輕鬆添購理想家具。</li>\n        </ul>\n      </div>\n      <div class=\"col\">\n        <p class=\"mb-2 fw-bold\">【商品保證與售後服務】</p>\n        <ul>\n          <li>樂居時光嚴格品管每件家具，確保送到您手上的每一件商品品質優良。</li>\n          <li>\n            若您收到商品有任何瑕疵或缺件問題，請於收到商品後七日內聯絡客服，我們將迅速為您處理退換貨事宜。\n          </li>\n          <li>\n            因家具屬於大型物品，部分特殊訂製商品或特價品不適用7天猶豫期，詳情請參閱消費者保護法相關規定。\n          </li>\n          <li>\n            客服專線：00-1234567（週一至週五 10:00-22:00），或來信至\n            service@mail.com，我們將竭誠為您服務。\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport saveFave from '@/methods/saveFave';\n\nexport default {\n  data() {\n    return {\n      faveList: saveFave.getFavorite() || [],\n      product: {},\n      filterProduct: [],\n      id: '',\n      qty: 1,\n      isLoading: false,\n    };\n  },\n  inject: {\n    emitter: ['emitter'],\n  },\n  methods: {\n    getProduct() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.product = res.data.product;\n          }\n        });\n    },\n    addFave(item) {\n      this.isLoading = true;\n      if (!this.faveList.includes(item.id)) {\n        this.faveList.push(item.id);\n        this.$httpMessageState({\n          data: {\n            success: true,\n          },\n        }, `已將 ${item.title} 加入收藏`);\n        this.isLoading = false;\n      } else {\n        this.faveList.splice(this.faveList.indexOf(item.id), 1);\n        this.$httpMessageState({\n          data: {\n            success: true,\n          },\n        }, `已將 ${item.title} 移除收藏`);\n        this.isLoading = false;\n      }\n      saveFave.saveFavorite(this.faveList);\n      this.emitter.emit('update-fave', this.faveList);\n    },\n    addCart(id, qty) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          if (res.data.success) {\n            this.emitter.emit('update-cart', id);\n            this.isLoading = false;\n            this.$httpMessageState(res, '加入購物車');\n          }\n        });\n    },\n  },\n  created() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n  },\n};\n</script>\n<style>\n.border-start-custom {\n  border-left: 4px solid #4f332d !important;\n}\n\n.text-custom {\n  color: #4f332d !important;\n}\n\n.btn-outline-custom {\n  color: #4f332d;\n  border-color: #4f332d;\n}\n\n.btn-outline-custom:hover,\n.btn-outline-custom.active {\n  background-color: #4f332d;\n  color: #fff;\n  border-color: #4f332d;\n}\n\n.btn-custom {\n  background-color: #4f332d;\n  border-color: #4f332d;\n  color: #fff;\n}\n\n.btn-custom:hover {\n  background-color: #3d271f;\n  border-color: #3d271f;\n  color: #fff;\n}\n\n.btn-heart {\n  width: 38px;\n  height: 38px;\n  border-radius: 5px;\n  font-size: 16px;\n  border: 1px solid gray;\n  color: gray;\n  transition: 0.5s;\n  &:hover {\n    transform: scale(1.2);\n    color: #c92c2c;\n    border: 1px solid #c92c2c;\n  }\n}\n.btn-heart-active {\n  color: #c92c2c;\n  border: 1px solid #c92c2c;\n}\n.btn-add-cart {\n  transition: 0.5s;\n  &:hover {\n    transform: scale(1.1);\n  }\n}\n</style>\n","import { render } from \"./ProductDetail.vue?vue&type=template&id=1c13ee7f\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js\"\n\nimport \"./ProductDetail.vue?vue&type=style&index=0&id=1c13ee7f&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default {\n  saveFavorite(fave) {\n    const favoriteStr = JSON.stringify(fave);\n    localStorage.setItem('favoriteProduct', favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem('favoriteProduct'));\n  },\n};\n"],"names":["class","key","_createElementBlock","_Fragment","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","src","product","imageUrl","alt","title","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","_hoisted_8","description","origin_price","price","_hoisted_9","_ctx","$filters","currency","_createCommentVNode","_hoisted_10","_createTextVNode","_hoisted_11","_hoisted_12","id","_cache","$event","qty","_renderList","n","value","_hoisted_13","_hoisted_14","type","onClick","_withModifiers","$options","addFave","_normalizeClass","faveList","some","i","addCart","_createStaticVNode","data","saveFave","getFavorite","filterProduct","inject","emitter","methods","getProduct","this","api","$http","get","then","res","success","item","includes","splice","indexOf","$httpMessageState","push","saveFavorite","emit","cart","product_id","post","created","$route","params","productId","__exports__","render","fave","favoriteStr","JSON","stringify","localStorage","setItem","parse","getItem"],"sourceRoot":""}